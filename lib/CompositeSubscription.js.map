{"version":3,"sources":["../es6/CompositeSubscription.js"],"names":[],"mappings":";;;;6BAAyB,gBAAgB;;;;8BAClB,mBAAmB;;;;IACrB,qBAAqB;AAC3B,aADM,qBAAqB,GACxB;0CADG,qBAAqB;;AAElC,iCAAM,IAAI,EAAE,IAAI,CAAC,CAAC;AAClB,YAAI,CAAC,MAAM,GAAG,CAAC,CAAC;KACnB;;0BAJgB,qBAAqB;;AAArB,yBAAqB,CAK/B,IAAI,GAAA,cAAC,aAAa,EAAE;AACvB,YAAI,IAAI,GAAG,IAAI,qBAAqB,EAAE,CAAC;AACvC,YAAI,KAAK,CAAC,OAAO,CAAC,aAAa,CAAC,EAAE;AAC9B,yBAAa,CAAC,OAAO,CAAC,UAAA,GAAG;uBAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;aAAA,CAAC,CAAC;SAC/C;AACD,eAAO,IAAI,CAAC;KACf;;AAXgB,yBAAqB,WAYtC,WAAW,GAAA,uBAAG;AACV,YAAI,IAAI,CAAC,YAAY,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE;AAC3C,mBAAO;SACV;AACD,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,YAAI,aAAa,GAAG,4BAAW,IAAI,CAAC,cAAc,CAAC,CAAC;AACpD,YAAI,iBAAiB,GAAG,aAAa,IAAI,aAAa,CAAC,MAAM,IAAI,CAAC,CAAC;AACnE,YAAI,iBAAiB,GAAG,CAAC,CAAC,CAAC;AAC3B,YAAI,CAAC,cAAc,GAAG,SAAS,CAAC;AAChC,eAAO,EAAE,iBAAiB,GAAG,iBAAiB,EAAE;AAC5C,yBAAa,CAAC,iBAAiB,CAAC,CAAC,WAAW,EAAE,CAAC;SAClD;KACJ;;AAxBgB,yBAAqB,WAyBtC,GAAG,GAAA,aAAC,YAAY,EAAE;AACd,YAAI,aAAa,GAAG,IAAI,CAAC,cAAc,KAAK,IAAI,CAAC,cAAc,GAAG,EAAE,CAAA,AAAC,CAAC;AACtE,YAAI,YAAY,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE;AAC5C,gBAAI,IAAI,CAAC,YAAY,EAAE;AACnB,4BAAY,CAAC,WAAW,EAAE,CAAC;aAC9B,MACI;AACD,6BAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;aACpC;SACJ;AACD,YAAI,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;AACnC,eAAO,IAAI,CAAC;KACf;;AArCgB,yBAAqB,WAsCtC,MAAM,GAAA,gBAAC,YAAY,EAAE;AACjB,YAAI,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;AACrC,YAAI,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC;AACxC,YAAI,aAAa,EAAE;AACf,gBAAI,iBAAiB,GAAG,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;AAC5D,gBAAI,iBAAiB,KAAK,CAAC,CAAC,EAAE;AAC1B,6BAAa,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,CAAC,CAAC;aAC9C;AACD,gBAAI,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;SACtC,MACI;AACD,gBAAI,CAAC,MAAM,GAAG,CAAC,CAAC;SACnB;AACD,eAAO,IAAI,CAAC;KACf;;AApDgB,yBAAqB,WAqDtC,OAAO,GAAA,iBAAC,YAAY,EAAE;AAClB,eAAO,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;KACpD;;WAvDgB,qBAAqB;;;qBAArB,qBAAqB","file":"dist/es6/CompositeSubscription.js","sourcesContent":["import Subscription from './Subscription';\nimport arraySlice from './util/arraySlice';\nexport default class CompositeSubscription extends Subscription {\n    constructor() {\n        super(null, null);\n        this.length = 0;\n    }\n    static from(subscriptions) {\n        var comp = new CompositeSubscription();\n        if (Array.isArray(subscriptions)) {\n            subscriptions.forEach(sub => comp.add(sub));\n        }\n        return comp;\n    }\n    unsubscribe() {\n        if (this.unsubscribed || !this._subscriptions) {\n            return;\n        }\n        this.unsubscribed = true;\n        var subscriptions = arraySlice(this._subscriptions);\n        var subscriptionCount = subscriptions && subscriptions.length || 0;\n        var subscriptionIndex = -1;\n        this._subscriptions = undefined;\n        while (++subscriptionIndex < subscriptionCount) {\n            subscriptions[subscriptionIndex].unsubscribe();\n        }\n    }\n    add(subscription) {\n        var subscriptions = this._subscriptions || (this._subscriptions = []);\n        if (subscription && !subscription.unsubscribed) {\n            if (this.unsubscribed) {\n                subscription.unsubscribe();\n            }\n            else {\n                subscriptions.push(subscription);\n            }\n        }\n        this.length = subscriptions.length;\n        return this;\n    }\n    remove(subscription) {\n        var unsubscribed = this.unsubscribed;\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n            this.length = subscriptions.length;\n        }\n        else {\n            this.length = 0;\n        }\n        return this;\n    }\n    indexOf(subscription) {\n        return this._subscriptions.indexOf(subscription);\n    }\n}\n"]}