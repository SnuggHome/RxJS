{"version":3,"sources":["../../es6/observable/zip.js"],"names":[],"mappings":"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","file":"zip.js","sourcesContent":["import Observable from '../Observable';\nimport Observer from '../Observer';\nimport CompositeSubscription from '../CompositeSubscription';\nimport Subscription from '../Subscription';\nimport $$observer from '../util/Symbol_observer';\nimport try_catch from '../util/tryCatch';\nimport error_obj from '../util/errorObject';\nclass ZipObservable extends Observable {\n    constructor(observables, project) {\n        super(null);\n        this.observables = observables;\n        this.project = project;\n    }\n    subscriber(observer) {\n        var subscriptions = new CompositeSubscription();\n        this.observables.forEach((obs, i) => {\n            var innerObserver = new InnerZipObserver(observer, i, this.project, subscriptions, obs);\n            subscriptions.add(Subscription.from(obs[$$observer](innerObserver), innerObserver));\n        });\n        return subscriptions;\n    }\n}\nclass InnerZipObserver extends Observer {\n    constructor(destination, index, project, subscriptions, observable) {\n        super(destination);\n        this.buffer = [];\n        this.index = index;\n        this.project = project;\n        this.subscriptions = subscriptions;\n        this.observable = observable;\n    }\n    _next(value) {\n        this.buffer.push(value);\n        return { done: false };\n    }\n    _canEmit() {\n        return this.subscriptions._subscriptions.every(sub => {\n            var observer = sub.observer;\n            return !observer.unsubscribed && observer.buffer.length > 0;\n        });\n    }\n    _getArgs() {\n        return this.subscriptions._subscriptions.reduce((args, sub) => {\n            var observer = sub.observer;\n            args.push(observer.buffer.shift());\n            return args;\n        }, []);\n    }\n    _checkNext() {\n        if (this._canEmit()) {\n            var args = this._getArgs();\n            return this._sendNext(args);\n        }\n    }\n    _sendNext(args) {\n        var value = try_catch(this.project).apply(this, args);\n        if (value === error_obj) {\n            return this.destination[\"throw\"](error_obj.e);\n        }\n        else {\n            return this.destination.next(value);\n        }\n    }\n}\nexport default function zip(observables, project) {\n    return new ZipObservable(observables, project);\n}\n"]}