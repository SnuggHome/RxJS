{"version":3,"sources":["../es6/Observer.js"],"names":[],"mappings":"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","file":"Observer.js","sourcesContent":["export default class Observer {\n    constructor(destination) {\n        this.unsubscribed = false;\n        this.destination = destination;\n    }\n    static create(_next, _throw = null, _return = null, _dispose = null) {\n        var observer = new Observer(null);\n        observer._next = _next;\n        if (_throw) {\n            observer._throw = _throw;\n        }\n        if (_return) {\n            observer._return = _return;\n        }\n        if (_dispose) {\n            observer._dispose = _dispose;\n        }\n        return observer;\n    }\n    _dispose() {\n        var destination = this.destination;\n        if (destination && destination.dispose) {\n            destination.dispose();\n        }\n    }\n    _next(value) {\n        return this.destination.next(value);\n    }\n    _throw(error) {\n        var destination = this.destination;\n        if (destination && destination.throw) {\n            return destination.throw(error);\n        }\n        else {\n            throw error;\n        }\n    }\n    _return(value) {\n        var destination = this.destination;\n        if (destination && destination.return) {\n            return destination.return(value);\n        }\n        else {\n            return { done: true };\n        }\n    }\n    next(value) {\n        if (this.unsubscribed) {\n            return { done: true };\n        }\n        var result = this._next(value);\n        result = result || { done: false };\n        if (result.done) {\n            this.unsubscribe();\n        }\n        return result;\n    }\n    throw(error) {\n        if (this.unsubscribed) {\n            return { done: true };\n        }\n        var result = this._throw(error);\n        this.unsubscribe();\n        return { done: true, value: result ? result.value : undefined };\n    }\n    return(value = undefined) {\n        if (this.unsubscribed) {\n            return { done: true };\n        }\n        var result = this._return(value);\n        this.unsubscribe();\n        return { done: true, value: result ? result.value : undefined };\n    }\n    unsubscribe() {\n        this.unsubscribed = true;\n        if (this.subscription && this.subscription._unsubscribe) {\n            this.subscription._unsubscribe();\n        }\n    }\n    setSubscription(subscription) {\n        this.subscription = subscription;\n        if (this.unsubscribed && subscription._unsubscribe) {\n            subscription._unsubscribe();\n        }\n    }\n    dispose() {\n        if (!this.unsubscribed) {\n            if (this._dispose) {\n                this._dispose();\n            }\n        }\n        this.unsubscribe();\n    }\n}\n"]}